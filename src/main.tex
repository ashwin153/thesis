\documentclass[12pt]{report}

% Packages.
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage[backend=biber]{biblatex}
\usepackage{graphicx}
\usepackage{listings, lstautogobble}
\usepackage{hyperref}
\usepackage[parfill]{parskip}
\usepackage{subfiles}
\usepackage{textcomp}
\usepackage{xcolor}

% Configuration.
\graphicspath{{images/}{../images/}}

\lstset{
  backgroundcolor=\color{white!99!black},
  numbers=left, numberstyle=\tiny, stepnumber=1, numbersep=5pt,
  autogobble=true,
}

\lstdefinestyle{Caustic}{
  basicstyle=\small\ttfamily\color{black},
  breaklines=true,
  moredelim=[s][\color{green!50!black}\ttfamily]{'}{'},
  moredelim=*[s][\color{black}\ttfamily]{options}{\}},
  commentstyle={\color{gray}\itshape},
  morecomment=[l]{//},
  emph={def, del, elif, else, extends, if, import, module, record, return, rollback, service, while, var},
  emphstyle={\color{blue}\ttfamily},
  alsoletter={:,|,;},
  morekeywords={:,|,;},
  keywordstyle={\color{black}},
}

\lstdefinestyle{Scala}{
  basicstyle=\small\ttfamily\color{black},
  breaklines=true,
  moredelim=[s][\color{green!50!black}\ttfamily]{'}{'},
  moredelim=*[s][\color{black}\ttfamily]{options}{\}},
  commentstyle={\color{gray}\itshape},
  morecomment=[l]{//},
  emph={
    abstract, case, catch,
    char, class,
    def, else, extends, final,
    if, import,
    match, module, new, null, object,
    override, package, private, protected,
    public, return, super, this, throw,
    trait, try, type, val, var, with, implicit,
    macro, sealed
  },
  emphstyle={\color{blue}\ttfamily},
  alsoletter={:,|,;},
  morekeywords={:,|,;},
  keywordstyle={\color{black}},
  upquote=true,
  moredelim=[is][\color{green!50!black}]{@<}{>@},
  sensitive=true
}

\hypersetup{
  colorlinks=true,
  linkcolor=black,
  citecolor=black,
  filecolor=blue,
  urlcolor=blue
}

\newtheorem{theorem}{Theorem}

% Bibliography.
\bibliography{caustic/caustic}
\bibliography{beaker/beaker}
\nocite{*}
\bibliographystyle{unsrt}

\begin{document}

% Title.
\title{On Transactional Programming}
\author{Ashwin Madavan}
\maketitle

% Abstract.
\subfile{abstract}

% Table of Contents.
\tableofcontents

% Caustic.
\chapter{Caustic: A Transactional Programming Language}
\subfile{caustic/caustic}

% Beaker.
\chapter{Beaker: A Distributed, Transactional Database}
\subfile{beaker/beaker}

% Appendix.
\appendix
\chapter{Caustic}
\subfile{caustic/appendix}

\chapter{Beaker}
\subfile{beaker/appendix}

% References.
\printbibliography

\end{document}